//custom css variables
function dynamicCssVariables() {
    var ukContainerOffset = $(".uk-container").offset().left;
    var siteHeaderHeight = $(".siteHeader").outerHeight();
    $("body").css({
        "--ukContainerOffset": ukContainerOffset + 'px',
        "--siteHeaderHeight": siteHeaderHeight + 'px',
    })
}

//custom UIkit Icons
function customUIkitIcons() {
    UIkit.icon.add({

        // nav toggler
        'navbar-toggle-icon':

            `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm6 7h12v2H9v-2zm-6 7h18v2H3v-2z"/></svg>`,

        // long Arrow
        'long-arrow':

            `<svg width="381" height="16" viewBox="0 0 381 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M380.707 8.70711C381.098 8.31658 381.098 7.68342 380.707 7.29289L374.343 0.928932C373.953 0.538408 373.319 0.538408 372.929 0.928932C372.538 1.31946 372.538 1.95262 372.929 2.34315L378.586 8L372.929 13.6569C372.538 14.0474 372.538 14.6805 372.929 15.0711C373.319 15.4616 373.953 15.4616 374.343 15.0711L380.707 8.70711ZM0 9H380V7H0V9Z" fill="white"  class="uk-animation-stroke"/>
        </svg>`,

        //ring text
        'ring-text':
            `
           <svg width="171" height="169" fill="none">
  <path d="m56.006 160.867 3.755-4.576.54 5.836 2.349.689 3.61-4.632.685 5.891 2.2.645-1.063-7.677-2.625-.77-3.377 4.137-.607-5.306-2.626-.77-5.04 5.888 2.199.645ZM47.865 150.685c1.193.669 1.953 1.522 1.6 2.617l-6.657-3.732c-1.573 2.805-.15 4.662 2.194 5.976 2.502 1.403 4.787 1.473 6.06-.798 1.268-2.261-.037-4.203-2.382-5.518-2.282-1.279-4.227-1.393-5.515-.051l1.78.997c.802-.375 1.684-.183 2.92.509Zm-2.09 3.506c-1.13-.633-1.875-1.367-1.691-2.406l4.679 2.623c-.77.71-1.763.47-2.988-.217ZM31.771 146.211c1.165.983 2.38 1.459 3.486 1.34l-2.345 2.779 1.568 1.323 6.192-7.336-1.569-1.324-.712.844c-.068-1.11-.742-2.228-1.907-3.211-1.733-1.463-3.83-1.992-5.571.071-1.742 2.064-.875 4.051.858 5.514Zm4.13-3.832c1.403 1.184 1.825 2.247.927 3.31-.906 1.073-2.024.836-3.427-.348-1.404-1.184-1.816-2.24-.91-3.312.897-1.064 2.006-.835 3.41.35ZM12.049 125.844l3.1-1.898c-.284 1.075.003 2.349.798 3.649 1.184 1.934 3.018 3.091 5.32 1.682 2.304-1.409 2.098-3.562.914-5.497-.796-1.3-1.8-2.135-2.886-2.37l.942-.577-1.071-1.75-8.189 5.011 1.072 1.75Zm8.311-1.752c.958 1.566 1.018 2.698-.17 3.424-1.197.733-2.178.165-3.136-1.401-.958-1.566-1.024-2.707.174-3.44 1.187-.727 2.174-.149 3.132 1.417ZM14.216 111.283c.48 1.281.512 2.422-.464 3.032l-2.683-7.145c-3.01 1.131-3.12 3.466-2.176 5.983 1.008 2.685 2.71 4.212 5.147 3.297 2.427-.911 2.682-3.237 1.737-5.753-.92-2.45-2.333-3.79-4.182-3.596l.717 1.91c.855.23 1.406.946 1.904 2.272Zm-3.858 1.333c-.456-1.214-.551-2.254.259-2.93l1.885 5.022c-1.046.046-1.65-.778-2.144-2.092ZM10.395 102.313c2.224-.379 2.143-2.922 1.684-5.607-.458-2.685-1.104-4.401-3.068-4.066-1.857.317-1.61 2.186-1.347 4.941.232 2.432.224 2.811-.214 2.885-.402.069-.637-.451-.964-2.367-.321-1.88-.304-2.638.275-2.737l-.347-2.035c-1.916.327-1.934 2.29-1.486 4.916.424 2.484 1.13 4.555 2.952 4.244 1.68-.287 1.66-1.83 1.314-4.923-.264-2.475-.285-2.813.247-2.903.545-.093.747.237 1.12 2.426.386 2.259.234 3.076-.511 3.203l.345 2.023ZM1.464 87.96l1.787-.037-.042-2.052-1.788.037.043 2.052Zm2.531-.053 7.067-.145-.043-2.052-7.066.146.042 2.051ZM5.014 71.491l1.13.145c-.875.602-1.49 1.72-1.705 3.387-.309 2.404.518 4.252 2.994 4.57 2.476.319 3.743-1.26 4.052-3.665.213-1.654-.1-2.892-.794-3.707 1.787.314 2.495 1.203 2.224 3.31-.198 1.547-.745 3.074-1.006 3.875l1.643.212c.266-.656.862-2.285 1.124-4.32.34-2.655-.65-4.73-3.507-5.097l-5.892-.757-.263 2.047Zm4.864 3.48c-.246 1.917-.898 2.752-2.183 2.587-1.286-.165-1.705-1.138-1.459-3.055.246-1.916.897-2.74 2.182-2.575 1.285.166 1.706 1.127 1.46 3.043ZM8.43 57.965c-.536 1.63-.436 3.128.002 4.333l-1.174-.386-.642 1.95 6.714 2.208.642-1.95-3.762-1.237c-.508-.836-.716-2.471-.284-3.782.528-1.607 1.427-1.842 2.852-1.373l2.975.978.645-1.96-3.709-1.246c-2.48-.79-3.67.675-4.26 2.465ZM16.895 52.136l1.436.723.923-1.833-1.437-.723-.922 1.833ZM19.332 37.238c-.879 1.245-1.249 2.497-1.035 3.588l-2.97-2.097-1.184 1.676 7.843 5.537 1.183-1.677-.902-.636c1.1-.164 2.156-.931 3.035-2.176 1.308-1.853 1.655-3.988-.55-5.545-2.206-1.558-4.112-.523-5.42 1.33Zm4.174 3.784c-1.06 1.5-2.082 2.011-3.219 1.209-1.147-.81-1.006-1.945.053-3.445 1.058-1.5 2.074-2.002 3.22-1.192 1.138.803 1.005 1.928-.054 3.428ZM29.537 25.663c-.94.926-1.569 2.067-1.656 3.483l-.842-.854-1.462 1.44 4.96 5.035L32 33.327l-2.973-3.018c.207-1.568.962-2.683 1.782-3.491a7.108 7.108 0 0 1 1.46-1.1l-1.205-1.223c-.426.251-.929.578-1.527 1.168ZM39.45 17.785c-1.219.834-2.239 1.85-3.163 3.05l1.45.825a11.816 11.816 0 0 1 2.602-2.404c.793-.542 2.28-1.428 3.039-.319-.94.264-1.969.736-2.97 1.42-1.852 1.267-3.19 2.88-2.154 4.396.9 1.317 2.28 1.145 3.914.027a9.491 9.491 0 0 0 2.984-3.247l.495.723 1.703-1.165-2.011-2.942c-1.53-2.196-3.452-2.03-5.89-.364Zm4.957 2.658c-.614.973-1.686 2.127-2.607 2.757-.881.603-1.48.94-1.9.325-.406-.594.207-1.334 1.475-2.2 1.08-.739 1.998-1.12 2.72-1.337l.312.455ZM54.209 9.855c-1.574.684-2.626 1.755-3.236 2.883l-.492-1.133-1.882.817 2.816 6.483 1.882-.817-1.578-3.633c.287-.935 1.37-2.178 2.636-2.727 1.552-.674 2.325-.16 2.922 1.216l1.248 2.873 1.893-.822-1.536-3.598c-1.06-2.379-2.945-2.293-4.673-1.542ZM69.836 2.73l.793 3.548c-.925-.618-2.223-.758-3.71-.426-2.214.494-3.902 1.855-3.313 4.49.588 2.635 2.692 3.137 4.906 2.642 1.487-.332 2.602-1.011 3.176-1.963l.24 1.077 2.003-.447-2.092-9.37-2.003.448Zm-1.03 8.43c-1.793.4-2.882.09-3.186-1.268-.306-1.37.549-2.114 2.34-2.514 1.792-.4 2.894-.093 3.2 1.277.303 1.359-.563 2.105-2.355 2.506ZM88.62 1.482l-.106 1.785 2.049.121.106-1.784-2.048-.122Zm-.15 2.527-.42 7.056 2.05.122.419-7.056-2.049-.122ZM105.287 3.862l-.75 3.558c-.586-.945-1.709-1.611-3.2-1.926-2.219-.468-4.32.07-4.876 2.713-.558 2.641 1.15 3.97 3.368 4.438 1.491.315 2.788.159 3.705-.47l-.228 1.08 2.008.424 1.981-9.393-2.008-.424Zm-4.434 7.245c-1.797-.379-2.66-1.113-2.373-2.475.29-1.373 1.376-1.696 3.172-1.317 1.797.378 2.672 1.115 2.382 2.489-.287 1.362-1.385 1.682-3.181 1.303ZM114.383 15.437c-1.261-.53-2.112-1.291-1.885-2.42l7.036 2.958c1.246-2.965-.377-4.65-2.855-5.69-2.644-1.112-4.922-.924-5.931 1.476-1.005 2.39.511 4.173 2.989 5.214 2.412 1.014 4.357.907 5.486-.571l-1.881-.79c-.754.463-1.653.372-2.959-.177Zm1.681-3.72c1.195.503 2.017 1.148 1.952 2.201l-4.945-2.078c.684-.793 1.698-.666 2.993-.122ZM131.368 18.393c-1.428-.952-2.899-1.255-4.177-1.155l.686-1.028-1.708-1.138-3.92 5.881 1.708 1.138 2.196-3.295c.942-.266 2.573-.03 3.721.735 1.408.939 1.395 1.867.563 3.116l-1.737 2.606 1.717 1.144 2.19-3.242c1.424-2.18.329-3.717-1.239-4.762ZM142.514 30.303l1.19-1.236-2.413-2.322 1.423-1.478-1.895-1.008-1.015 1.056-1.341-1.29-1.189 1.237 1.34 1.29-2.238 2.326c-1.081 1.124-.708 2.432.607 3.697.683.657 1.286 1.154 1.863 1.542l1.148-1.193c-.68-.488-.94-.737-1.407-1.187-.899-.865-.848-1.299.1-2.285l1.415-1.47 2.412 2.321ZM149.721 32.177l-1.403 1.108 1.271 1.61 1.403-1.107-1.271-1.611Zm-1.987 1.569-5.548 4.379 1.271 1.61 5.548-4.379-1.271-1.61ZM155.121 47.858l1.479-.87-1.697-2.886 1.769-1.04-1.553-1.481-1.262.742-.943-1.603-1.479.87.943 1.603-2.783 1.636c-1.345.791-1.338 2.151-.413 3.724.48.817.927 1.459 1.377 1.988l1.428-.84c-.523-.653-.706-.963-1.034-1.522-.633-1.075-.467-1.48.712-2.173l1.759-1.034 1.697 2.886ZM162.145 60.215l-6.423-.609 4.454-4.83-.777-2.143L154 58.48l.36.993-3.307-.32.772 2.132 11.093 1.061-.773-2.132ZM158.841 69.178l-1.578.31.393 2.013 1.578-.309-.393-2.013ZM166.02 84.646l-3.956.177c-.772-.602-1.545-2.057-1.607-3.436-.076-1.69.681-2.228 2.18-2.295l3.129-.14-.093-2.062-3.909.15c-2.6.14-3.193 1.933-3.109 3.815.077 1.715.703 3.08 1.539 4.052l-1.235.055.092 2.05 7.061-.316-.092-2.05ZM161.225 91.487c-2.232-.327-2.941 2.116-3.336 4.812-.394 2.695-.311 4.526 1.66 4.815 1.864.273 2.208-1.581 2.81-4.282.531-2.385.656-2.742 1.095-2.678.404.06.467.626.185 2.55-.276 1.888-.527 2.603-1.108 2.518l-.299 2.042c1.923.282 2.547-1.58 2.933-4.216.365-2.493.334-4.68-1.495-4.948-1.686-.247-2.144 1.226-2.772 4.275-.514 2.435-.599 2.763-1.133 2.684-.546-.08-.637-.457-.315-2.653.332-2.268.73-2.998 1.478-2.889l.297-2.03ZM161.439 111.97c.486-1.394.703-2.818.735-4.331l-1.658.197a11.829 11.829 0 0 1-.666 3.479c-.316.906-.986 2.502-2.256 2.06.599-.77 1.148-1.76 1.547-2.905.738-2.119.858-4.212-.876-4.816-1.507-.526-2.514.432-3.166 2.302a9.477 9.477 0 0 0-.473 4.384l-.828-.288-.679 1.949 3.366 1.173c2.534.858 3.982-.416 4.954-3.204Zm-5.567.805c-.083-1.148.094-2.712.461-3.766.352-1.009.634-1.635 1.336-1.39.68.237.625 1.196.12 2.647-.431 1.235-.943 2.086-1.396 2.69l-.521-.181ZM154.566 126.606c.765-1.319 1.021-2.599.711-3.666l3.145 1.823 1.03-1.775-8.306-4.815-1.029 1.775.955.554c-1.08.261-2.064 1.12-2.828 2.438-1.138 1.962-1.292 4.12 1.043 5.474 2.336 1.354 4.142.154 5.279-1.808Zm-4.494-3.397c.92-1.588 1.893-2.189 3.097-1.491 1.215.704 1.177 1.847.256 3.435-.921 1.589-1.888 2.179-3.102 1.475-1.205-.698-1.172-1.831-.251-3.419ZM151.032 136.06l-1.398-1.116-1.28 1.604 1.397 1.115 1.281-1.603Zm-1.979-1.58-5.523-4.411-1.281 1.604 5.524 4.41 1.28-1.603ZM145.201 142.818l-6.82-6.757-1.444 1.458 6.82 6.757 1.444-1.458ZM138.683 148.915l-1.129-1.386-1.591 1.295 1.129 1.387 1.591-1.296Zm-1.598-1.963-4.462-5.482-1.591 1.295 4.461 5.482 1.592-1.295ZM123.084 154.55l.892 1.465 2.86-1.74 1.067 1.753 1.458-1.575-.761-1.25 1.589-.967-.892-1.466-1.589.967-1.678-2.758c-.811-1.333-2.171-1.306-3.729-.358-.81.493-1.445.949-1.967 1.408l.86 1.414c.645-.533.953-.72 1.507-1.057 1.066-.648 1.472-.488 2.183.681l1.061 1.742-2.861 1.741ZM110.834 161.758l.513-6.431 4.895 4.38 2.132-.808-5.928-5.311-.988.374.272-3.311-2.121.804-.895 11.108 2.12-.805ZM101.822 158.588l-.332-1.573-2.008.424.332 1.573 2.008-.424Z" fill="#000"/>
</svg>
           `,

        //arrow-right
        'chevron-right':
            `<svg xmlns="http://www.w3.org/2000/svg" width="8" height="12" viewBox="0 0 8 12" fill="none">
           <path d="M4.97656 5.99989L0.851562 1.87489L2.02989 0.696558L7.33323 5.99989L2.0299 11.3032L0.851562 10.1249L4.97656 5.99989Z" fill="white"/>
           </svg>`

    });
}

// dark section state management 
function manageDarkSec() {

    var flag = false;

    function stateHandler(elem, flag) {
        var newFlagState = true;
        if (flag == false) {
            if (elem.isInViewport(1.3)) {
                $("html").addClass("on-darkSec uk-light");
                newFlagState = true;
            } else {
                $("html").removeClass("on-darkSec uk-light");
                newFlagState = false;
            }
        }

        return newFlagState;
    }

    if ($(".darksec-flag").length) {
        $(".darksec-flag").each(function () {
            var elem = $(this);
            flag = stateHandler(elem, flag);
        })
    }

    $(window).on('scroll', function (e) {
        flag = false;
        if ($(".darksec-flag").length) {
            $(".darksec-flag").each(function () {
                var elem = $(this);
                flag = stateHandler(elem, flag);
            })
        }
    });
}

function addIdToBannerbelowSec() {
    $(".banner").next().attr('id', 'bannerBelow');
}

// custom mouse coursor 
function mouseCursor() {
    // if (jQuery(window).width() > 1279) {
    jQuery("body").append("<span class='mouseCursor'></span>");

    var xMousePos = 0;
    var yMousePos = 0;
    var lastXMousePos = 0;
    var lastYMousePos = 0;

    jQuery(document).mousemove(function (event) {
        var cursorType = $(event.target).css("cursor");

        if (cursorType == 'auto') {
            lastXMousePos = xMousePos;
            lastYMousePos = xMousePos;

            xMousePos = event.pageX;
            yMousePos = event.pageY;

            jQuery(".mouseCursor").removeClass("inactive hidden");
            jQuery(".mouseCursor").css({
                transform: "translate(" + xMousePos + "px," + (yMousePos - jQuery(window).scrollTop()) + "px)"
            });


        } else {
            jQuery(".mouseCursor").addClass("inactive");
        }
    })


    jQuery(document).mouseout(function () {
        jQuery(".mouseCursor").addClass("inactive hidden");
    });

    $(".mouseSpecial").mouseenter(function () {
        $(".mouseCursor").addClass("special");
    });

    $(".mouseSpecial").mouseleave(function () {
        $(".mouseCursor").removeClass("special");
    });
}

$.fn.isInViewport = function (bottomOffset) {
    let elementTop = $(this).offset().top;
    let viewportTop = $(window).scrollTop();


    if (bottomOffset) {
        let elementBottom = elementTop + ($(this).outerHeight() / bottomOffset);
        let viewportBottom = viewportTop + (window.innerHeight / bottomOffset); // <-- here
        return elementBottom > viewportTop && elementTop < viewportBottom;
    }
    else {
        let elementBottom = elementTop + $(this).outerHeight();
        let viewportBottom = viewportTop + window.innerHeight; // <-- here
        return elementBottom > viewportTop && elementTop < viewportBottom;
    }

};


(function ($) {
    "use strict";
    customUIkitIcons();
    dynamicCssVariables();
    manageDarkSec();
    mouseCursor();
    addIdToBannerbelowSec();

    $(window).resize(function () {
        dynamicCssVariables();
    });

}($));


